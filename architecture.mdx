---
title: Architecture
description: System overview and key components.
icon: diagram-project
---

## Overview

Tricoder consists of a local Rust bridge, a mobile app (Expo), and a lightweight local sync store (Tinyvex). The bridge supervises the Codex CLI, exposes a secure WebSocket, and syncs live session state.

## Components

- Bridge (Rust)
  - WebSocket server on `ws://<host>:8787/ws`
  - Spawns/controls the Codex CLI and streams JSONL events
  - Writes to Tinyvex (SQLite) for fast local queries and history

- Tinyvex (local sync)
  - In‑process SQLite + WebSocket changefeed
  - Streams threads/messages for the mobile UI

- Mobile (Expo)
  - Connects to the bridge via WS (Tailscale or LAN)
  - Renders live threads/messages and run activity

## Data Flow

1) User prompt from the app → bridge control → Codex CLI
2) CLI stdout/stderr (structured JSONL) → bridge → Tinyvex upserts + WS stream
3) App subscribes to Tinyvex streams for low‑latency rendering

## Further Reading

- Full technical details: openagents/docs/ARCHITECTURE.md
  https://github.com/OpenAgentsInc/openagents/blob/main/docs/ARCHITECTURE.md
